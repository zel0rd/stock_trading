# -*- coding: utf-8 -*-
"""
Created on Mon Jun 11 04:45:31 2018

@author: zelord

new_dates
g_closes




import pandas as pd
from fbprophet import Prophet
g_dates = [20180608, 20180607, 20180605, 20180604, 20180601, 20180531, 20180530, 20180529, 20180528, 20180525, 20180524, 20180523, 20180521, 20180518, 20180517, 20180516, 20180515, 20180514, 20180511, 20180510, 20180509, 20180508, 20180504, 20180503, 20180502, 20180430, 20180427, 20180426, 20180425, 20180424, 20180423, 20180420, 20180419, 20180418, 20180417, 20180416, 20180413, 20180412, 20180411, 20180410, 20180409, 20180406, 20180405, 20180404, 20180403, 20180402, 20180330, 20180329, 20180328, 20180327, 20180326, 20180323, 20180322, 20180321, 20180320, 20180319, 20180316, 20180315, 20180314, 20180313, 20180312, 20180309, 20180308, 20180307, 20180306, 20180305, 20180302, 20180228, 20180227, 20180226, 20180223, 20180222, 20180221, 20180220, 20180219, 20180214, 20180213, 20180212, 20180209, 20180208, 20180207, 20180206, 20180205, 20180202, 20180201, 20180131, 20180130, 20180129, 20180126, 20180125, 20180124, 20180123, 20180122, 20180119, 20180118, 20180117, 20180116, 20180115, 20180112, 20180111, 20180110, 20180109, 20180108, 20180105, 20180104, 20180103, 20180102, 20171228, 20171227, 20171226, 20171222, 20171221, 20171220, 20171219, 20171218, 20171215, 20171214, 20171213, 20171212, 20171211, 20171208, 20171207, 20171206, 20171205, 20171204, 20171201, 20171130, 20171129, 20171128, 20171127, 20171124, 20171123, 20171122, 20171121, 20171120, 20171117, 20171116, 20171115, 20171114, 20171113, 20171110, 20171109, 20171108, 20171107, 20171106, 20171103, 20171102, 20171101, 20171031, 20171030, 20171027, 20171026, 20171025, 20171024, 20171023, 20171020, 20171019, 20171018, 20171017, 20171016, 20171013, 20171012, 20171011, 20171010, 20170929, 20170928, 20170927, 20170926, 20170925, 20170922, 20170921, 20170920, 20170919, 20170918, 20170915, 20170914, 20170913, 20170912, 20170911, 20170908, 20170907, 20170906, 20170905, 20170904, 20170901, 20170831, 20170830, 20170829, 20170828, 20170825, 20170824, 20170823, 20170822, 20170821, 20170818, 20170817, 20170816, 20170814, 20170811, 20170810, 20170809, 20170808, 20170807, 20170804, 20170803, 20170802, 20170801, 20170731, 20170728, 20170727, 20170726, 20170725, 20170724, 20170721, 20170720, 20170719, 20170718, 20170717, 20170714, 20170713, 20170712, 20170711, 20170710, 20170707, 20170706, 20170705, 20170704, 20170703, 20170630, 20170629, 20170628, 20170627, 20170626, 20170623, 20170622, 20170621, 20170620, 20170619, 20170616, 20170615, 20170614, 20170613, 20170612, 20170609, 20170608, 20170607, 20170605, 20170602, 20170601, 20170531, 20170530, 20170529]
g_closes = [49650, 50600, 51300, 51100, 51300, 50700, 49500, 51300, 52300, 52700, 51400, 51800, 50000, 49500, 49400, 49850, 49200, 50100, 51300, 51600, 50900, 52600, 51900, 53000, 53000, 53000, 53000, 52140, 50400, 50460, 51900, 51620, 52780, 51360, 49980, 50340, 49800, 49000, 48860, 48880, 49200, 48400, 48740, 46920, 48120, 48540, 49220, 49040, 48700, 49980, 50280, 49720, 51780, 51060, 51200, 50740, 51140, 51540, 51760, 51660, 49740, 49740, 49200, 48620, 47020, 45200, 46020, 47060, 47380, 47380, 47220, 46760, 47280, 47400, 48380, 49000, 47540, 45720, 44700, 46000, 45800, 47420, 47920, 47700, 49820, 49900, 49800, 51220, 50780, 50260, 49340, 49160, 48240, 49320, 49900, 49620, 50000, 48540, 48200, 48240, 48840, 50400, 52020, 52120, 51080, 51620, 51020, 50960, 49360, 48200, 49700, 49140, 50880, 51560, 51200, 50620, 51060, 51320, 52100, 51780, 52000, 50740, 50020, 51260, 51340, 50840, 50800, 52600, 53280, 52640, 55460, 55300, 55960, 55280, 55200, 55820, 55780, 55340, 55920, 56380, 56400, 56340, 56760, 56100, 56380, 56380, 57060, 57220, 55080, 54040, 53080, 52400, 53900, 54040, 54300, 53840, 52980, 54760, 54800, 53920, 54000, 54800, 54640, 52800, 51280, 51260, 51680, 51660, 53620, 53000, 52800, 52220, 52120, 52480, 50400, 50300, 49620, 49600, 49800, 49080, 48120, 47000, 46760, 46040, 46480, 46320, 46200, 46080, 46100, 47020, 47520, 47480, 47000, 46840, 46900, 47040, 46200, 45000, 44620, 45900, 46280, 47720, 47580, 47700, 47780, 49000, 48600, 48200, 47760, 49800, 49840, 50000, 50860, 51080, 51200, 50740, 50840, 50640, 50480, 50560, 49880, 49000, 48660, 47860, 48060, 47580, 47000, 47220, 47540, 47940, 47700, 48300, 48280, 47620, 47960, 47480, 48140, 46560, 45580, 45680, 45360, 45400, 45380, 46100, 45160, 45300, 45940, 45960, 44680, 44700, 44640, 45620]
new_dates = ['2018-06-08', '2018-06-07', '2018-06-05', '2018-06-04', '2018-06-01', '2018-05-31', '2018-05-30', '2018-05-29', '2018-05-28', '2018-05-25', '2018-05-24', '2018-05-23', '2018-05-21', '2018-05-18', '2018-05-17', '2018-05-16', '2018-05-15', '2018-05-14', '2018-05-11', '2018-05-10', '2018-05-09', '2018-05-08', '2018-05-04', '2018-05-03', '2018-05-02', '2018-04-30', '2018-04-27', '2018-04-26', '2018-04-25', '2018-04-24', '2018-04-23', '2018-04-20', '2018-04-19', '2018-04-18', '2018-04-17', '2018-04-16', '2018-04-13', '2018-04-12', '2018-04-11', '2018-04-10', '2018-04-09', '2018-04-06', '2018-04-05', '2018-04-04', '2018-04-03', '2018-04-02', '2018-03-30', '2018-03-29', '2018-03-28', '2018-03-27', '2018-03-26', '2018-03-23', '2018-03-22', '2018-03-21', '2018-03-20', '2018-03-19', '2018-03-16', '2018-03-15', '2018-03-14', '2018-03-13', '2018-03-12', '2018-03-09', '2018-03-08', '2018-03-07', '2018-03-06', '2018-03-05', '2018-03-02', '2018-02-28', '2018-02-27', '2018-02-26', '2018-02-23', '2018-02-22', '2018-02-21', '2018-02-20', '2018-02-19', '2018-02-14', '2018-02-13', '2018-02-12', '2018-02-09', '2018-02-08', '2018-02-07', '2018-02-06', '2018-02-05', '2018-02-02', '2018-02-01', '2018-01-31', '2018-01-30', '2018-01-29', '2018-01-26', '2018-01-25', '2018-01-24', '2018-01-23', '2018-01-22', '2018-01-19', '2018-01-18', '2018-01-17', '2018-01-16', '2018-01-15', '2018-01-12', '2018-01-11', '2018-01-10', '2018-01-09', '2018-01-08', '2018-01-05', '2018-01-04', '2018-01-03', '2018-01-02', '2017-12-28', '2017-12-27', '2017-12-26', '2017-12-22', '2017-12-21', '2017-12-20', '2017-12-19', '2017-12-18', '2017-12-15', '2017-12-14', '2017-12-13', '2017-12-12', '2017-12-11', '2017-12-08', '2017-12-07', '2017-12-06', '2017-12-05', '2017-12-04', '2017-12-01', '2017-11-30', '2017-11-29', '2017-11-28', '2017-11-27', '2017-11-24', '2017-11-23', '2017-11-22', '2017-11-21', '2017-11-20', '2017-11-17', '2017-11-16', '2017-11-15', '2017-11-14', '2017-11-13', '2017-11-10', '2017-11-09', '2017-11-08', '2017-11-07', '2017-11-06', '2017-11-03', '2017-11-02', '2017-11-01', '2017-10-31', '2017-10-30', '2017-10-27', '2017-10-26', '2017-10-25', '2017-10-24', '2017-10-23', '2017-10-20', '2017-10-19', '2017-10-18', '2017-10-17', '2017-10-16', '2017-10-13', '2017-10-12', '2017-10-11', '2017-10-10', '2017-09-29', '2017-09-28', '2017-09-27', '2017-09-26', '2017-09-25', '2017-09-22', '2017-09-21', '2017-09-20', '2017-09-19', '2017-09-18', '2017-09-15', '2017-09-14', '2017-09-13', '2017-09-12', '2017-09-11', '2017-09-08', '2017-09-07', '2017-09-06', '2017-09-05', '2017-09-04', '2017-09-01', '2017-08-31', '2017-08-30', '2017-08-29', '2017-08-28', '2017-08-25', '2017-08-24', '2017-08-23', '2017-08-22', '2017-08-21', '2017-08-18', '2017-08-17', '2017-08-16', '2017-08-14', '2017-08-11', '2017-08-10', '2017-08-09', '2017-08-08', '2017-08-07', '2017-08-04', '2017-08-03', '2017-08-02', '2017-08-01', '2017-07-31', '2017-07-28', '2017-07-27', '2017-07-26', '2017-07-25', '2017-07-24', '2017-07-21', '2017-07-20', '2017-07-19', '2017-07-18', '2017-07-17', '2017-07-14', '2017-07-13', '2017-07-12', '2017-07-11', '2017-07-10', '2017-07-07', '2017-07-06', '2017-07-05', '2017-07-04', '2017-07-03', '2017-06-30', '2017-06-29', '2017-06-28', '2017-06-27', '2017-06-26', '2017-06-23', '2017-06-22', '2017-06-21', '2017-06-20', '2017-06-19', '2017-06-16', '2017-06-15', '2017-06-14', '2017-06-13', '2017-06-12', '2017-06-09', '2017-06-08', '2017-06-07', '2017-06-05', '2017-06-02', '2017-06-01', '2017-05-31', '2017-05-30', '2017-05-29']


d = {'ds':new_dates,'y':g_closes}

df = pd.DataFrame(data=d)

df

"""

import pandas as pd
from fbprophet import Prophet
df = pd.read_csv('example_wp_log_peyton_manning.csv')
df.head()

m = Prophet()
m.fit(df)

future = m.make_future_dataframe(periods=365)
future.tail()

forecast = m.predict(future)
forecast[['ds', 'yhat', 'yhat_lower', 'yhat_upper']].tail()

 
fig1 = m.plot(forecast)
fig1
fig2 = m.plot_components(forecast)
fig2
 
